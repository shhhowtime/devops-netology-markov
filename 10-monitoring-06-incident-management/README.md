| Что описываем | Описание      |
| ------------- | ------------- |
| Краткое описание инцедента | В 22:52 по UTC сервисы Github стали терять целостность информации из-за сетевой проблемы  |
| Предшествующие события  | Плановая операция замены оптоволоконного сетевого оборудования |
| Причина инцедента | Потеря связи между датацентрами на 43 секунды |
| Воздействие | На сайте github.com выводились неактуальные данные, внесённые новые данные не сохранялись |
| Обнаружение | Инцедент был замечен инжнерами с помощью системы мониторинга |
| Реакция | Инцедент был устранён за 24 часа и 11 минут |
| Восстановление | Были приостановлены внутренние процессы системы для сохранения целостности данных, восстановление данных из резервных копий, репликация данных между датацентрами, восстановление данных по логу наколеных событий |
| Таймлайн | 22:52 Замена сетевого оборудования |
| | 22:54 Получение первых алертов |
| | 23:02 Выявление непредвиденного состояния кластера БД |
| | 23:07 Приостановка внутренних процессов деплоя |
| | 23:09 Сайт переведён в жёлтый статус, инцедент станновится активным и передаётся инцедент-менеджеру|
| | 23:11 Инцедент-менеджер переводит сайт в красный статус|
| | 23:13 Вызов дополнительных инженеров БД. Исследование состояние кластеров БД. Отказ от репликации из-за риска потери данных |
| | 23:19 Остановка заданий, осуществляющих запись в базу |
| | 00:05 Составление плана решения инцедента: восстановление из бэкапа, синхронизация кластеров, восстановление по бэклогу и запуск работ, находящихся на паузе |
| | 00:41 Запуск восстановления БД |
| | 06:51 Восстановление БД для датацентра восточного побережья, запуск репликации с БД западного побережья |
| | 07:46 Коммуникация с пользователями (сообщение в блог) |
| | 11:12 Завершение синхронизации основных узлов БД |
| | 13:15 Выявление пиковой нагрузки на сайт, увеличение времени репликации, деплой дополнительных реплик для чтения |
| | 16:24 Завершение синхронизации реплик |
| | 16:45 Восстановление по бэклогу. Из-за большого количества событий в бэклоге и высокого объёма трафика не хватало TTL для завершения операций. Увеличение TTL. |
| | 23:03 Все данные востановлены, сайт перведён в зелёный статус |
| Последующие действия | Анализ логов БД, запрет объявление узла БД мастером, если узел в другой зоне, увеличение количества собираемой информации о минрациях, продвижение инициативы о смене схемы работы датацентров |